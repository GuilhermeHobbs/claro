<header *ngIf="showHeader">
  <img src="assets/img/logo.png" alt="Claro" class="logo">
  <h3 class="text-center">Selecione um contrato para avaliar as condições de negociação:</h3>
</header>

<accordion [isAnimated]="true" [closeOthers]="true">
  
  <accordion-group *ngIf="apiRestService.getDividasClaroMovel().length" (click)="showHeader = false">
    <button class="btn btn-link btn-block clearfix btn-accordion" accordion-heading (click)="apiRestService.getAllOpcoesClaroMovel()">
      <img src="assets/icons/phone.jpg" class="produto-img" alt="...">
      <div class="pull-left float-left produto-heading">Claro Móvel</div>  
    </button>
    <p>Débitos para serem negociados:</p>

    <!--      
    <div class="row opcoes-parcelamento" *ngIf="opcoesParcelamento"> <!-- *ngFor="let div of apiRestService.getDividasClaroMovel()">
      <div class="col-sm-3 opcoes-para-parcelamento">
       Valor total: R$ <!--{{ dividasClaroMovel.Parcelas.ParcelaDivida.Valor }}
      </div>  
      <div class="col-sm-4">
        <button type="button" class="btn btn-primary" (click)="showPrazoFinalizacao()">
          R$15000,28 + 1 x R$150,27
        </button>
        <button type="button" class="btn btn-primary">
          R$150,28 + 1 x R$150,27
        </button>
      </div>
      <div class="col-sm-4">
        <button type="button" class="btn btn-primary">
          R$150,28 + 1 x R$150,27
        </button>
      </div>    
    </div>  -->
  
    <app-prazo-finalizacao *ngIf="prazoFinalizacao" (clickVoltar)="showOpcoesParcelamento()"></app-prazo-finalizacao>
      
    
    <div class="row metodo-pagamento" [hidden]="!metodoPagamento" *ngFor="let div of apiRestService.getDividasClaroMovel(); let ind = index">
      <div class="col-sm-5 metodo-de-pagamento">
        Valor total: R$ {{ apiRestService.getDividasClaroMovel()[ind].Parcelas.ParcelaDivida.Valor }}
      </div>
      <div class="col-6 col-sm-3">
        <button type="button" class="btn btn-primary">
          À vista: R$ {{ apiRestService.opcoesPg[apiRestService.getDividasClaroMovel()[ind].CodigoTitulo] | async }}  
            getOpcaoAVista(apiRestService.getDividasClaroMovel()[ind].CodigoTitulo) 
            apiRestService.getOpcaoAVista(apiRestService.getDividasClaroMovel()[ind].CodigoTitulo) 
        </button>
      </div>
      <div class="col-6 col-sm-3">
        <button type="button" class="btn btn-primary" (click)="showOpcoesParcelamento()">
          Parcelado
        </button> 
      </div>  
    </div>
    
  </accordion-group>
  <accordion-group *ngIf="apiRestService.getDividasClaroInternet().length">
    <button class="btn btn-link btn-accordion" accordion-heading>
      <img src="assets/icons/internet.jpg" class="produto-img" alt="...">
      <div class="pull-left float-left produto-heading">Claro Internet</div>
    </button>
  </accordion-group>
  <accordion-group *ngIf="apiRestService.getDividasClaroTv().length">
      <button class="btn btn-link btn-block clearfix btn-accordion" accordion-heading>
        <img src="assets/icons/tv.jpg" class="produto-img" alt="...">
        <div class="pull-left float-left produto-heading">Claro TV</div>
      </button>
    </accordion-group>
</accordion>
