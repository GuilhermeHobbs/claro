<header *ngIf="showHeader">
  <img src="assets/img/logo.png" alt="Claro" class="logo">
  <h3 class="text-center">Selecione um contrato para avaliar as condições de negociação:</h3>
</header>

<accordion [isAnimated]="true" [closeOthers]="true">
  
  <accordion-group *ngIf="dadosDivida.length" (click)="showHeader = false">
    <button class="btn btn-link btn-block clearfix btn-accordion" accordion-heading (click)="getAllOpcoesClaroMovel()">
      <img src="assets/icons/phone.jpg" class="produto-img" alt="...">
      <div class="pull-left float-left produto-heading">Claro Móvel</div>  
    </button>
    <p>Débitos para serem negociados:</p>

          
    <div class="row opcoes-parcelamento" *ngIf="opcoesParcelamento"> 
      <div class="col-sm-3 opcoes-para-parcelamento">
      </div>  
      <div class="col-sm-4">
        <button type="button" class="btn btn-primary" (click)="showPrazoFinalizacao()">
            R$ {{ getOpcao(1) }}
        </button>
        <button type="button" class="btn btn-primary" *ngIf="opcoesPg[dadosDivida[ind_parcelado].CodigoTitulo].OpcaoPagamento[2]"> 
          R$ {{ getOpcao(2) }} 
        </button>
      </div>
          
    </div>   
  
    <app-prazo-finalizacao *ngIf="prazoFinalizacao" (clickVoltar)="showOpcoesParcelamento()"></app-prazo-finalizacao>
      
    
    <div class="row metodo-pagamento" *ngFor="let div of dadosDivida; let ind = index" [hidden]="opcoesParcelamento">
      <div class="col-sm-5 metodo-de-pagamento">
        Valor total: R$ {{ dadosDivida[ind].Parcelas.ParcelaDivida.Valor }}
      </div>
      <div class="col-6 col-sm-3">
        <button type="button" class="btn btn-primary"> 
          À vista: R$ {{ getValorNegociar(dadosDivida[ind].CodigoTitulo) }} 
          <!-- {{ (apiRestService.opcoesPg[dadosDivida[ind].CodigoTitulo].OpcoesPagamento | async) || "Aguarde . . ." }}
        --></button>
      </div>
      <div class="col-6 col-sm-3">
        <button type="button" class="btn btn-primary" (click)="showOpcoesParcelamento(ind)" *ngIf="nao_parcelado[dadosDivida[ind].CodigoTitulo]"> 
          Parcelado
        </button> 
      </div>  
    </div>
    
  </accordion-group>
  <accordion-group *ngIf="apiRestService.getDividasClaroInternet().length">
    <button class="btn btn-link btn-accordion" accordion-heading>
      <img src="assets/icons/internet.jpg" class="produto-img" alt="...">
      <div class="pull-left float-left produto-heading">Claro Internet</div>
    </button>
  </accordion-group>
  <accordion-group *ngIf="apiRestService.getDividasClaroTv().length">
      <button class="btn btn-link btn-block clearfix btn-accordion" accordion-heading>
        <img src="assets/icons/tv.jpg" class="produto-img" alt="...">
        <div class="pull-left float-left produto-heading">Claro TV</div>
      </button>
    </accordion-group>
</accordion>
